# SPDX-License-Identifier: MIT
# SPDX-FileCopyrightText: 2025 nop
#
# ROS 2 + VLA inference dependencies for CRANE-X7
# Note: PyTorch is installed separately in Dockerfile with specific CUDA version

# Setuptools (must be <59 for ROS 2 Humble compatibility with colcon --symlink-install)
setuptools==58.5.3

# NumPy (must be <2.0 for cv_bridge/TensorFlow compatibility)
# This constraint must come first to prevent other packages from installing numpy>=2.0
numpy>=1.24.0,<2.0.0

# TensorFlow (for data processing)
tensorflow==2.20.0

# Transformers stack (must match vla/requirements-openvla.txt)
transformers==4.57.3
tokenizers==0.22.1
timm==0.9.16
sentencepiece==0.2.1
peft>=0.8.0
huggingface_hub>=0.20.0

# Image processing
Pillow>=10.0.0
opencv-python-headless>=4.8.0

# Tensor operations (used by some model components)
einops

# ManiSkill simulation (3.0.0 stable not yet released, using latest beta)
mani-skill>=3.0.0b0
sapien
gymnasium>=0.26.0

# Genesis simulation
genesis-world

# OpenPI checkpoint loading (JAXâ†’PyTorch conversion)
jax[cpu]
orbax-checkpoint
safetensors>=0.4.0
gsutil
